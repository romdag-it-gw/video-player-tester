{"version":3,"file":"main.js","mappings":"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A;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,MAAM;AACnB;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB;AACA,cAAc,UAAU;AACxB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ,KAAqC;AAC7C;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;;;;;;;;;;AC3FA;AACA;AACA;AACA,WAAW,YAAY;AACvB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACda;AACb,wBAAwB,mBAAO,CAAC,oEAAmB;AACnD,wBAAwB,mBAAO,CAAC,0EAAsB;AACtD,qBAAqB,mBAAO,CAAC,8DAAgB;AAC7C,qBAAqB,mBAAO,CAAC,sDAAY;;AAEzC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA,EAAE;AACF;;AAEA,eAAe;AACf,aAAa;;AAEb,iBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAE;AACF;;AAEA,gBAAgB;AAChB;AACA;AACA,EAAE;;AAEF;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,wDAAwD,2CAA2C;AACnG;AACA;;AAEA,oBAAoB;AACpB;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA,yDAAyD,YAAY;;AAErE;AACA;AACA;AACA,oBAAoB,YAAY;AAChC;;AAEA;AACA;AACA,aAAa,2CAA2C;AACxD;;AAEA,WA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","sources":["webpack://@flussonic/flussonic-webrtc-player/./src/adapters.js","webpack://@flussonic/flussonic-webrtc-player/./src/base.js","webpack://@flussonic/flussonic-webrtc-player/./src/dev/config.js","webpack://@flussonic/flussonic-webrtc-player/./src/enums.js","webpack://@flussonic/flussonic-webrtc-player/./src/lock.js","webpack://@flussonic/flussonic-webrtc-player/./src/loggers.js","webpack://@flussonic/flussonic-webrtc-player/./src/player.js","webpack://@flussonic/flussonic-webrtc-player/./src/publisher.js","webpack://@flussonic/flussonic-webrtc-player/./node_modules/bowser/es5.js","webpack://@flussonic/flussonic-webrtc-player/./node_modules/decode-uri-component/index.js","webpack://@flussonic/flussonic-webrtc-player/./node_modules/filter-obj/index.js","webpack://@flussonic/flussonic-webrtc-player/./node_modules/nanoevents/index.js","webpack://@flussonic/flussonic-webrtc-player/./node_modules/nanoevents/unbind-all.js","webpack://@flussonic/flussonic-webrtc-player/./node_modules/query-string/index.js","webpack://@flussonic/flussonic-webrtc-player/./node_modules/split-on-first/index.js","webpack://@flussonic/flussonic-webrtc-player/./node_modules/strict-uri-encode/index.js","webpack://@flussonic/flussonic-webrtc-player/webpack/bootstrap","webpack://@flussonic/flussonic-webrtc-player/webpack/runtime/compat get default export","webpack://@flussonic/flussonic-webrtc-player/webpack/runtime/define property getters","webpack://@flussonic/flussonic-webrtc-player/webpack/runtime/hasOwnProperty shorthand","webpack://@flussonic/flussonic-webrtc-player/webpack/runtime/make namespace object","webpack://@flussonic/flussonic-webrtc-player/./src/dev/index.js"],"sourcesContent":["export const PeerConnection =\n  window.RTCPeerConnection ||\n  window.mozRTCPeerConnection ||\n  window.webkitRTCPeerConnection;\n\nexport const IceCandidate =\n  window.RTCIceCandidate || window.mozRTCIceCandidate || window.RTCIceCandidate;\n\nexport const SessionDescription =\n  window.RTCSessionDescription ||\n  window.mozRTCSessionDescription ||\n  window.RTCSessionDescription;\n","import NanoEvents from \"nanoevents\";\nimport {consoleLog, emptyLog} from \"./loggers\";\nimport bowser from \"bowser\";\nimport unbindAll from \"nanoevents/unbind-all\";\n\nexport default class WebRTCBase {\n  constructor(url, opts = {}, shouldLog = false) {\n    this.url = url;\n    this.emitter = new NanoEvents();\n    this.notify = this.emitter.emit.bind(this.emitter);\n    this.log = shouldLog ? consoleLog : emptyLog;\n\n    this.retryMax = opts.retryMax || 1;\n    this.retryDelay = opts.retryDelay || 1000;\n    this.retryCounter = this.retryMax;\n\n    this.ws = null;\n\n    const { browser, os } = bowser.getParser(\n      window.navigator.userAgent,\n    ).parsedResult;\n    this.isSafariOrIOS = browser.name === 'Safari' || os.name === 'iOS';\n  }\n\n  destroy = () => {\n    unbindAll(this.emitter);\n    if (typeof this.onDestroy === 'function') {\n      this.onDestroy();\n    }\n  };\n\n  /**\n   * Used to stop only after retries limit exceeded\n   * @param {function} cb\n   */\n  stopRetry = cb => {\n    this.retryCounter -= 1;\n    if (this.retryCounter > 0) {\n      setTimeout(cb, this.retryDelay);\n    } else {\n      this.stop();\n    }\n  };\n\n  /**\n   * Do this for all method, that shoul be implemented in descendants\n   */\n  stop = this.shouldImplementError('stop');\n\n  retryCounterReset = () => {\n    this.retryCounter = this.retryMax;\n  };\n\n  sendWsMsg = msg => {\n    this.waitForConnection(() => this.ws.send(JSON.stringify(msg)), 20);\n  };\n\n  waitForConnection = (cb, interval) => {\n    if (this && this.ws) {\n      if (this.ws.readyState === 1) {\n        cb();\n      } else {\n        setTimeout(() => this.waitForConnection(cb, interval), interval);\n      }\n    }\n  };\n\n  /**\n   *\n   * @param {array} args\n   * @param {string} args[0] - event name\n   * @param {function} args[1] - callback for event\n   * @returns {*}\n   */\n  on = (...args) => {\n    return this.emitter.on.apply(this.emitter, args);\n  };\n\n  shouldImplementError(name) {\n    return () => {\n      console.error(`Custom ${name} method should be implemented for WebRTCBase descendants`);\n      throw new Error();\n    }\n  }\n}\n","export default {\n  host: 'demo',\n  name: 'clock'\n}\n","export const PLAYER_EVENTS = {\n  FAIL: 'fail',\n  PLAY: 'play',\n  DEBUG: 'debug',\n};\n\nexport const PUBLISHER_EVENTS = {\n  STREAMING: 'streaming',\n};\n\nexport const PUBLISHER_STATUSES = {\n  INITIALIZING: 'initializing',\n  STREAMING: 'streaming',\n  STOPPED: 'stopped'\n};\n","// Here information about calling navigator.mediaDevices.getUserMedia is stored\n// The goal is to have single source of information about getUserMedia call\n// That information is needed to prevent extra request of getUserMedia for OSX(with Safari) or IOS devices\n\nwindow._isGetUserMediaCalled = !!window._isGetUserMediaCalled;\nexport const setGetUserMediaCalled = () => {\n  window._isGetUserMediaCalled = true;\n};\nexport const isGetUserMediaCalled = () => window._isGetUserMediaCalled;\n","export const consoleLog = (...msgs) => console.log(...msgs);\nexport const emptyLog = () => void 0;\n","import { PLAYER_EVENTS } from './enums';\nimport { isGetUserMediaCalled, setGetUserMediaCalled } from './lock';\nimport { PeerConnection, SessionDescription, IceCandidate } from './adapters';\nimport WebRTCBase from \"./base\";\n\nconst SAFARI_PERMISSIONS_REQUEST_MESSAGE =\n  'We need to get access to one of media devices to start playing stream over WebRTC in Safari (or any IOS browser). If press YES, browser will ask you for permission.';\n\nexport default class Player extends WebRTCBase {\n  /**\n   * @param {HTMLMediaElement} media\n   * @param {string} url\n   * @param {object} opts\n   * @param {boolean} opts.autoplay\n   * @param {number} opts.retryMax - number of ws connection retries\n   * @param {number} opts.retryDelay - number of connection retries\n   * @param {boolean} shouldLog\n   */\n  constructor(media, url, opts = {}, shouldLog = false) {\n    super(url, opts, shouldLog);\n\n    if (!(media instanceof HTMLMediaElement)) {\n      throw 'First argument must be html5 video tag';\n    }\n\n    this.remoteVideo = media;\n\n    this.remoteVideo.addEventListener('play', this.onVideoPlay);\n\n    if (opts.autoplay) {\n      this.play();\n    }\n  }\n\n  onDestroy = () => {\n    this.stop();\n    this.remoteVideo.removeEventListener('play', this.onVideoPlay);\n  };\n\n  createPeerConnection = () => {\n    this.log('Player::createPeerConnection');\n\n    this.remotePc = new PeerConnection(null);\n    // {iceServers: [], bundlePolicy: \"max-compat\"}, [{\"DtlsSrtpKeyAgreement\": true}]\n    this.remotePc.stream_id = 'remote1';\n    this.remotePc.onicecandidate = this.gotIceCandidate;\n    this.remotePc.ontrack = this.gotRemoteTrack;\n    this.remotePc.onconnectionstatechange = evt => {\n      this.log('peer connection state:', this.remotePc.connectionState);\n      if (this.remotePc.connectionState === 'closed') {\n        this.stop();\n        this.notify(PLAYER_EVENTS.FAIL, 'peer_connection_closed');\n      } else if (this.remotePc.connectionState === 'failed') {\n        this.stopRetry(this.play);\n      }\n    };\n\n    // Logging\n    this.remotePc.oniceconnectionstatechange = evt => {\n      this.log('icechange:', evt);\n      if (this.remotePc.iceConnectionState === 'failed') {\n        this.stopRetry(this.play);\n        this.notify(PLAYER_EVENTS.FAIL, 'ice_connection_fail');\n      }\n      if (this.remotePc.iceConnectionState === 'closed') {\n        this.stop();\n        this.notify(PLAYER_EVENTS.FAIL, 'ice_connection_closed');\n      }\n      this.notify(PLAYER_EVENTS.DEBUG, [\n        'ICE connection state',\n        this.remotePc.iceConnectionState,\n      ]);\n    };\n\n    this.remotePc.onicegatheringstatechange = evt => {\n      this.log('ice gathering state', this.remotePc.iceGatheringState, evt);\n    };\n    this.remotePc.onsignalingstatechange = evt => {\n      this.log('signaling state', this.remotePc.signalingState, evt);\n    };\n  };\n\n  checkGetUserMediaCall = () => {\n    if (this.isSafariOrIOS && !isGetUserMediaCalled()) {\n      if (confirm(SAFARI_PERMISSIONS_REQUEST_MESSAGE)) {\n        setGetUserMediaCalled();\n        const constraints = { audio: true, video: true };\n        return navigator.mediaDevices.getUserMedia(constraints);\n      } else {\n        return Promise.reject();\n      }\n    } else {\n      return Promise.resolve();\n    }\n  };\n\n  play = () => {\n    this.log('Player::play');\n    this.checkGetUserMediaCall().then(() => {\n      let wsUrl = new URL(this.url);\n      wsUrl.pathname = wsUrl.pathname + '/webrtc';\n      wsUrl.protocol = /https/.test(wsUrl.protocol) ? 'wss' : 'ws';\n\n      this.ws = new WebSocket(wsUrl.toString());\n\n      this.ws.onopen = evt => {\n        this.createPeerConnection();\n      };\n\n      this.ws.onerror = evt => {\n        this.stopRetry(this.play);\n        this.notify(PLAYER_EVENTS.FAIL, 'ws_error', evt);\n      };\n\n      this.ws.onclose = evt => {\n        this.stop();\n        this.notify(PLAYER_EVENTS.FAIL, 'ws_closed');\n      };\n\n      this.ws.onmessage = this.onWsMsg;\n    });\n  };\n\n  stop = () => {\n    this.retryCounterReset();\n\n    if (this.ws) {\n      this.ws.close();\n      delete this.ws;\n    }\n\n    try {\n      this.remoteVideo.srcObject = null;\n    } catch (err) {\n      this.remoteVideo.src = null;\n    }\n  };\n\n  gotIceCandidate = event => {\n    this.log('ice candidate:', event);\n    if (event.candidate) {\n      this.sendWsMsg({\n        type: 'candidate',\n        stream_id: 'local1',\n        label: event.candidate.sdpMLineIndex,\n        id: event.candidate.sdpMid,\n        candidate: event.candidate,\n      });\n    }\n  };\n\n  gotRemoteTrack = e => {\n    this.log('remote track', e);\n    if (e.track.kind === 'video' || e.track.kind === 'audio') {\n      try {\n        this.remoteVideo.srcObject = e.streams[0];\n      } catch (error) {\n        this.remoteVideo.src = window.URL.createObjectURL(e.streams[0]);\n      }\n    }\n  };\n\n  getSessionDescription = ({ sdp, ...message }) =>\n    new SessionDescription({\n      ...message,\n      // I'm really shamed, but I experimented and hadn't find any other reason\n      // for not playing video, so SODD helps me =)\n      // https://stackoverflow.com/questions/47990094/failed-to-set-remote-video-description-send-parameters-on-native-ios\n      sdp: sdp.replace(\n        /profile-level-id=(\\d|A|B|C|D|E|F)+;/,\n        'profile-level-id=42E01F;',\n      ),\n    });\n\n  onWsMsg = evt => {\n    this.log('ws message received');\n    const message = JSON.parse(evt.data);\n\n    if (message.type === 'offer') {\n      this.onWsOfferReceived(message);\n    } else if (message.type === 'candidate') {\n      this.onWsIceCandidateReceived(message);\n    }\n  };\n\n  remoteCreateAnswer = () => {\n    this.log('success adding offer');\n    // Теперь просим PeerConnection сделать ответ для флюссоника\n    return this.remotePc.createAnswer();\n  };\n\n  remoteSetLocalDescription = answer => {\n    this.log('now have answer', answer.sdp);\n    // Получили ответ от PeerConnection и помечаем его как local\n    // description\n    return this.remotePc.setLocalDescription(answer);\n  };\n\n  remoteSendLocalDescription = () => {\n    this.log('now have local desc', this.remotePc.localDescription.sdp);\n    // после этого можно слать local description как ответ флюссонику\n    // дальше будет обмен кандидатами\n    this.sendWsMsg(this.remotePc.localDescription);\n  };\n\n  onDescriptionError = reason => {\n    this.notify(PLAYER_EVENTS.DEBUG, ['failed to set remote answer', reason]);\n    // stop() caused problems with playback\n    // this.stop();\n    this.notify(PLAYER_EVENTS.FAIL, 'set_remote_description_failed');\n  };\n\n  onWsOfferReceived = message => {\n    this.log('ws message type === offer', message);\n    // От флюссоника приехал SDP, который засовываем в PeerConnection\n    // как remote description\n    const desc = this.getSessionDescription(message);\n    this.log('session description', desc);\n    this.remotePc\n      .setRemoteDescription(desc)\n      .then(this.remoteCreateAnswer)\n      .then(this.remoteSetLocalDescription)\n      .then(this.remoteSendLocalDescription)\n      .catch(this.onDescriptionError);\n  };\n\n  onWsIceCandidateReceived = message => {\n    this.log('have candidate');\n    const candidate = new IceCandidate(message.candidate);\n    this.remotePc.addIceCandidate(\n      candidate,\n      () => {},\n      err => {\n        this.notify(PLAYER_EVENTS.DEBUG, [\n          'failed to add ICE from remote:',\n          err,\n        ]);\n      },\n    );\n  };\n\n  onVideoPlay = () => {\n    this.notify(PLAYER_EVENTS.PLAY);\n  };\n}\n","import { PUBLISHER_EVENTS, PUBLISHER_STATUSES } from './enums';\nimport { setGetUserMediaCalled } from './lock';\nimport { PeerConnection, SessionDescription, IceCandidate } from './adapters';\nimport WebRTCBase from \"./base\";\n\nexport default class Publisher extends WebRTCBase {\n  /**\n   * Creates new instance of publisher with passed url and options\n   * @param {string} streamUrl\n   * @param {object} opts\n   * @param {object} opts.preview\n   * @param {object} opts.previewOptions - it's keys'll be applied to preview dom node as attributes\n   * @param {boolean} opts.previewOptions.autoplay\n   * @param {boolean} opts.previewOptions.controls\n   * @param {boolean} opts.previewOptions.muted\n   * @param {object} opts.constraints - video constraints\n   * @param {boolean} opts.constraints.audio\n   * @param {boolean} opts.constraints.video\n   * @param {function} opts.onWebsocketClose\n   * @param {boolean} shouldLog\n   */\n  constructor(streamUrl, opts = {}, shouldLog = false) {\n    super(streamUrl, opts, shouldLog);\n\n    const self = this;\n    this.status = PUBLISHER_STATUSES.INITIALIZING;\n\n    if (opts.preview) {\n      this.videoContainer = opts.preview;\n      if (opts.previewOptions) {\n        this.videoContainer.autoplay = opts.previewOptions.autoplay;\n        this.videoContainer.controls = opts.previewOptions.controls;\n        this.videoContainer.muted = opts.previewOptions.muted;\n      }\n      this.videoContainer.addEventListener('loadedmetadata', function() {\n        self.log(\n          `Local video videoWidth: ${this.videoWidth}px,  videoHeight: ${\n            this.videoHeight\n          }px`,\n        );\n      });\n    }\n      \n      this.externalStream = opts.stream;\n\n    this.onWebsocketClose = opts.onWebsocketClose;\n  }\n\n  /**\n   * @param {object} opts\n   * @param {object} opts.openPeerConnectionOptions\n   * @param {object} opts.openPeerConnectionOptions.getMediaOptions\n   * @param {function} opts.openPeerConnectionOptions.getMediaOptions.onGetUserMediaError\n   */\n  start = opts => {\n    let url = new URL(this.url);\n    url.protocol = /https/.test(url.protocol) ? 'wss' : 'ws';\n    url.pathname = url.pathname + '/webrtc/publish';\n\n    this.ws = new WebSocket(url.toString());\n\n    this.ws.onopen = () =>\n      this.openPeerConnection(opts ? opts.openPeerConnectionOptions : null);\n    this.ws.onmessage = this.onWsMsg;\n    this.ws.onclose = event => {\n      this.log(\"WebSocket 'onClose' fired.\", event);\n      if (typeof this.onWebsocketClose === 'function') {\n        this.onWebsocketClose();\n      }\n    };\n\n    this.ws.onerror = event =>\n      this.log(\"WebSocket 'onError' fired, no handler presented\", event);\n  };\n\n  stop = () => {\n    this.clearLocalStreamSource();\n\n    if (this.peerConnection) {\n      this.peerConnection.close();\n      this.peerConnection = null;\n    }\n\n    if (this.ws) {\n      this.ws.close();\n      this.ws = null;\n    }\n\n    this.status = PUBLISHER_STATUSES.STOPPED;\n  };\n\n  /**\n   * @param {object} opts\n   * @param {object} opts.getMediaOptions\n   * @param {function} opts.getMediaOptions.onGetUserMediaError\n   */\n  openPeerConnection = opts => {\n    if (this.isSafariOrIOS) {\n      this.getMedia(opts ? opts.getMediaOptions : null, cb => {\n        this.log('openPeerConnection::cb');\n        this.peerConnection = new PeerConnection(null);\n        this.peerConnection.stream_id = 'local1';\n        this.peerConnection.onicecandidate = this.gotIceCandidate;\n        this.log('openPeerConnection::peerConnection', this.peerConnection);\n        if (typeof cb === 'function') {\n          cb();\n        }\n      });\n    } else {\n      this.peerConnection = new PeerConnection(null);\n      this.peerConnection.stream_id = 'local1';\n      this.peerConnection.onicecandidate = this.gotIceCandidate;\n\n      this.getMedia(opts ? opts.getMediaOptions : null);\n    }\n  };\n\n  clearLocalStreamSource = () => {\n    return;\n\n    if (this.stream) {\n      this.stream.getTracks().forEach(function(track) {\n        track.stop();\n      });\n    }\n  };\n\n  onWsAnswerReceived = message => {\n    const description = new SessionDescription(message);\n    this.peerConnection.setRemoteDescription(description);\n    this.log('answer');\n  };\n\n  onWsIceCandidateReceived = message => {\n    this.log('candidate');\n    const candidate = new IceCandidate(message.candidate);\n    this.peerConnection.addIceCandidate(candidate).then(() => {\n      this.status = PUBLISHER_STATUSES.STREAMING;\n      this.emitter.emit(PUBLISHER_EVENTS.STREAMING);\n      this.log('streaming', this.stream);\n      if (this.videoContainer) {\n        this.videoContainer.srcObject = this.stream;\n      }\n    });\n  };\n\n  onWsMsg = event => {\n    const message = JSON.parse(event.data);\n\n    // TODO Remove redundant switch\n    if (message.type === 'answer') {\n      this.onWsAnswerReceived(message);\n    } else if (message.type === 'candidate') {\n      this.onWsIceCandidateReceived(message);\n    }\n  };\n\n  gotIceCandidate = event => {\n    if (event.candidate) {\n      this.sendWsMsg({\n        type: 'candidate',\n        stream_id: 'local1',\n        label: event.candidate.sdpMLineIndex,\n        id: event.candidate.sdpMid,\n        candidate: event.candidate,\n      });\n    }\n  };\n\n  /**\n   * @param {object} opts\n   * @param {function} opts.onGetUserMediaError\n   * @param {function} [cb]\n   */\n  getMedia = (opts, cb) => {\n    //this.clearLocalStreamSource();\n    \n    if (typeof cb === 'function') {\n        cb(() => {\n            this.gotMedia(this.externalStream);\n        });\n    } else {\n        this.gotMedia(this.externalStream);\n    }\n    return;\n\n    navigator.mediaDevices\n      .getUserMedia(this.constraints)\n      .then(stream => {\n        setGetUserMediaCalled();\n        this.log('mediaDevices.getUserMedia success.');\n        if (typeof cb === 'function') {\n          cb(() => {\n            this.log('getMedia::cb');\n            this.gotMedia(stream);\n          });\n        } else {\n          this.gotMedia(stream);\n        }\n      })\n      .catch(error => {\n        this.log('mediaDevices.getUserMedia exception occured.', error);\n        if (opts && opts.onGetUserMediaError) {\n          opts.onGetUserMediaError(error);\n        }\n      });\n  };\n\n  gotMedia = stream => {\n    this.stream = stream;\n    this.log('got', this.stream);\n    this.log('gotMedia::peerConnection', this.peerConnection);\n    this.stream\n      .getTracks()\n      .forEach(track => this.peerConnection.addTrack(track, this.stream));\n\n    this.peerConnection\n      .createOffer({\n        offerToReceiveAudio: true,\n        offerToReceiveVideo: true,\n      })\n      .then(description => {\n        return this.peerConnection.setLocalDescription(description);\n      })\n      .then(() => {\n        this.sendWsMsg(this.peerConnection.localDescription);\n      })\n      .catch(error => {\n        const errorMessage = 'Error establishing P2P connection.';\n        this.log(errorMessage, error);\n      });\n  };\n\n  /**\n   *\n   * @param {array} args\n   * @param {string} args[0] - event name\n   * @param {function} args[1] - callback for event\n   * @returns {*}\n   */\n  on = (...args) => {\n    return this.emitter.on.apply(this.emitter, args);\n  };\n}\n","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.bowser=t():e.bowser=t()}(this,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=90)}({17:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=r(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var r=t.match(e);return r&&r.length>0&&r[1]||\"\"},e.getSecondMatch=function(e,t){var r=t.match(e);return r&&r.length>1&&r[2]||\"\"},e.matchAndReturnConst=function(e,t,r){if(e.test(t))return r},e.getWindowsVersionName=function(e){switch(e){case\"NT\":return\"NT\";case\"XP\":return\"XP\";case\"NT 5.0\":return\"2000\";case\"NT 5.1\":return\"XP\";case\"NT 5.2\":return\"2003\";case\"NT 6.0\":return\"Vista\";case\"NT 6.1\":return\"7\";case\"NT 6.2\":return\"8\";case\"NT 6.3\":return\"8.1\";case\"NT 10.0\":return\"10\";default:return}},e.getMacOSVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return\"Leopard\";case 6:return\"Snow Leopard\";case 7:return\"Lion\";case 8:return\"Mountain Lion\";case 9:return\"Mavericks\";case 10:return\"Yosemite\";case 11:return\"El Capitan\";case 12:return\"Sierra\";case 13:return\"High Sierra\";case 14:return\"Mojave\";case 15:return\"Catalina\";default:return}},e.getAndroidVersionName=function(e){var t=e.split(\".\").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?\"Cupcake\":1===t[0]&&t[1]>=6?\"Donut\":2===t[0]&&t[1]<2?\"Eclair\":2===t[0]&&2===t[1]?\"Froyo\":2===t[0]&&t[1]>2?\"Gingerbread\":3===t[0]?\"Honeycomb\":4===t[0]&&t[1]<1?\"Ice Cream Sandwich\":4===t[0]&&t[1]<4?\"Jelly Bean\":4===t[0]&&t[1]>=4?\"KitKat\":5===t[0]?\"Lollipop\":6===t[0]?\"Marshmallow\":7===t[0]?\"Nougat\":8===t[0]?\"Oreo\":9===t[0]?\"Pie\":void 0},e.getVersionPrecision=function(e){return e.split(\".\").length},e.compareVersions=function(t,r,n){void 0===n&&(n=!1);var i=e.getVersionPrecision(t),s=e.getVersionPrecision(r),a=Math.max(i,s),o=0,u=e.map([t,r],(function(t){var r=a-e.getVersionPrecision(t),n=t+new Array(r+1).join(\".0\");return e.map(n.split(\".\"),(function(e){return new Array(20-e.length).join(\"0\")+e})).reverse()}));for(n&&(o=a-Math.min(i,s)),a-=1;a>=o;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===o)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var r,n=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(r=0;r<e.length;r+=1)n.push(t(e[r]));return n},e.find=function(e,t){var r,n;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(r=0,n=e.length;r<n;r+=1){var i=e[r];if(t(i,r))return i}},e.assign=function(e){for(var t,r,n=e,i=arguments.length,s=new Array(i>1?i-1:0),a=1;a<i;a++)s[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(s));var o=function(){var e=s[t];\"object\"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){n[t]=e[t]}))};for(t=0,r=s.length;t<r;t+=1)o();return e},e.getBrowserAlias=function(e){return n.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return n.BROWSER_MAP[e]||\"\"},e}();t.default=i,e.exports=t.default},18:function(e,t,r){\"use strict\";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0;t.BROWSER_ALIASES_MAP={\"Amazon Silk\":\"amazon_silk\",\"Android Browser\":\"android\",Bada:\"bada\",BlackBerry:\"blackberry\",Chrome:\"chrome\",Chromium:\"chromium\",Electron:\"electron\",Epiphany:\"epiphany\",Firefox:\"firefox\",Focus:\"focus\",Generic:\"generic\",\"Google Search\":\"google_search\",Googlebot:\"googlebot\",\"Internet Explorer\":\"ie\",\"K-Meleon\":\"k_meleon\",Maxthon:\"maxthon\",\"Microsoft Edge\":\"edge\",\"MZ Browser\":\"mz\",\"NAVER Whale Browser\":\"naver\",Opera:\"opera\",\"Opera Coast\":\"opera_coast\",PhantomJS:\"phantomjs\",Puffin:\"puffin\",QupZilla:\"qupzilla\",QQ:\"qq\",QQLite:\"qqlite\",Safari:\"safari\",Sailfish:\"sailfish\",\"Samsung Internet for Android\":\"samsung_internet\",SeaMonkey:\"seamonkey\",Sleipnir:\"sleipnir\",Swing:\"swing\",Tizen:\"tizen\",\"UC Browser\":\"uc\",Vivaldi:\"vivaldi\",\"WebOS Browser\":\"webos\",WeChat:\"wechat\",\"Yandex Browser\":\"yandex\",Roku:\"roku\"};t.BROWSER_MAP={amazon_silk:\"Amazon Silk\",android:\"Android Browser\",bada:\"Bada\",blackberry:\"BlackBerry\",chrome:\"Chrome\",chromium:\"Chromium\",electron:\"Electron\",epiphany:\"Epiphany\",firefox:\"Firefox\",focus:\"Focus\",generic:\"Generic\",googlebot:\"Googlebot\",google_search:\"Google Search\",ie:\"Internet Explorer\",k_meleon:\"K-Meleon\",maxthon:\"Maxthon\",edge:\"Microsoft Edge\",mz:\"MZ Browser\",naver:\"NAVER Whale Browser\",opera:\"Opera\",opera_coast:\"Opera Coast\",phantomjs:\"PhantomJS\",puffin:\"Puffin\",qupzilla:\"QupZilla\",qq:\"QQ Browser\",qqlite:\"QQ Browser Lite\",safari:\"Safari\",sailfish:\"Sailfish\",samsung_internet:\"Samsung Internet for Android\",seamonkey:\"SeaMonkey\",sleipnir:\"Sleipnir\",swing:\"Swing\",tizen:\"Tizen\",uc:\"UC Browser\",vivaldi:\"Vivaldi\",webos:\"WebOS Browser\",wechat:\"WeChat\",yandex:\"Yandex Browser\"};t.PLATFORMS_MAP={tablet:\"tablet\",mobile:\"mobile\",desktop:\"desktop\",tv:\"tv\"};t.OS_MAP={WindowsPhone:\"Windows Phone\",Windows:\"Windows\",MacOS:\"macOS\",iOS:\"iOS\",Android:\"Android\",WebOS:\"WebOS\",BlackBerry:\"BlackBerry\",Bada:\"Bada\",Tizen:\"Tizen\",Linux:\"Linux\",ChromeOS:\"Chrome OS\",PlayStation4:\"PlayStation 4\",Roku:\"Roku\"};t.ENGINE_MAP={EdgeHTML:\"EdgeHTML\",Blink:\"Blink\",Trident:\"Trident\",Presto:\"Presto\",Gecko:\"Gecko\",WebKit:\"WebKit\"}},90:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(91))&&n.__esModule?n:{default:n},s=r(18);function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=function(){function e(){}var t,r,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),\"string\"!=typeof e)throw new Error(\"UserAgent should be a string\");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,n=[{key:\"BROWSER_MAP\",get:function(){return s.BROWSER_MAP}},{key:\"ENGINE_MAP\",get:function(){return s.ENGINE_MAP}},{key:\"OS_MAP\",get:function(){return s.OS_MAP}},{key:\"PLATFORMS_MAP\",get:function(){return s.PLATFORMS_MAP}}],(r=null)&&a(t.prototype,r),n&&a(t,n),e}();t.default=o,e.exports=t.default},91:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n=u(r(92)),i=u(r(93)),s=u(r(94)),a=u(r(95)),o=u(r(17));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||\"\"===e)throw new Error(\"UserAgent parameter can't be empty\");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=o.default.find(n.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||\"\":this.getBrowser().name||\"\"},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=o.default.find(i.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||\"\":t||\"\"},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||\"\":t||\"\"},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=o.default.find(s.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||\"\":this.getEngine().name||\"\"},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=o.default.find(a.default,(function(t){if(\"function\"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error(\"Browser's test function is not valid\")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return o.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,r={},n=0,i={},s=0;if(Object.keys(e).forEach((function(t){var a=e[t];\"string\"==typeof a?(i[t]=a,s+=1):\"object\"==typeof a&&(r[t]=a,n+=1)})),n>0){var a=Object.keys(r),u=o.default.find(a,(function(e){return t.isOS(e)}));if(u){var d=this.satisfies(r[u]);if(void 0!==d)return d}var c=o.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(r[c]);if(void 0!==f)return f}}if(s>0){var l=Object.keys(i),h=o.default.find(l,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var r=this.getBrowserName().toLowerCase(),n=e.toLowerCase(),i=o.default.getBrowserTypeByAlias(n);return t&&i&&(n=i.toLowerCase()),n===r},t.compareVersion=function(e){var t=[0],r=e,n=!1,i=this.getBrowserVersion();if(\"string\"==typeof i)return\">\"===e[0]||\"<\"===e[0]?(r=e.substr(1),\"=\"===e[1]?(n=!0,r=e.substr(2)):t=[],\">\"===e[0]?t.push(1):t.push(-1)):\"=\"===e[0]?r=e.substr(1):\"~\"===e[0]&&(n=!0,r=e.substr(1)),t.indexOf(o.default.compareVersions(i,r,n))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=d,e.exports=t.default},92:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n};var s=/version\\/(\\d+(\\.?_?\\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:\"Googlebot\"},r=i.default.getFirstMatch(/googlebot\\/(\\d+(\\.\\d+))/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/opera/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:opera)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opr\\/|opios/i],describe:function(e){var t={name:\"Opera\"},r=i.default.getFirstMatch(/(?:opr|opios)[\\s/](\\S+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:\"Samsung Internet for Android\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Whale/i],describe:function(e){var t={name:\"NAVER Whale Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:whale)[\\s/](\\d+(?:\\.\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:\"MZ Browser\"},r=i.default.getFirstMatch(/(?:MZBrowser)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/focus/i],describe:function(e){var t={name:\"Focus\"},r=i.default.getFirstMatch(/(?:focus)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/swing/i],describe:function(e){var t={name:\"Swing\"},r=i.default.getFirstMatch(/(?:swing)[\\s/](\\d+(?:\\.\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/coast/i],describe:function(e){var t={name:\"Opera Coast\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:coast)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/opt\\/\\d+(?:.?_?\\d+)+/i],describe:function(e){var t={name:\"Opera Touch\"},r=i.default.getFirstMatch(/(?:opt)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/yabrowser/i],describe:function(e){var t={name:\"Yandex Browser\"},r=i.default.getFirstMatch(/(?:yabrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:\"UC Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:ucbrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:\"Maxthon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/epiphany/i],describe:function(e){var t={name:\"Epiphany\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:epiphany)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/puffin/i],describe:function(e){var t={name:\"Puffin\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:puffin)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sleipnir/i],describe:function(e){var t={name:\"Sleipnir\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:sleipnir)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/k-meleon/i],describe:function(e){var t={name:\"K-Meleon\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/(?:k-meleon)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/micromessenger/i],describe:function(e){var t={name:\"WeChat\"},r=i.default.getFirstMatch(/(?:micromessenger)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?\"QQ Browser Lite\":\"QQ Browser\"},r=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/msie|trident/i],describe:function(e){var t={name:\"Internet Explorer\"},r=i.default.getFirstMatch(/(?:msie |rv:)(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/\\sedg\\//i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getFirstMatch(/\\sedg\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:\"Microsoft Edge\"},r=i.default.getSecondMatch(/edg([ea]|ios)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/vivaldi/i],describe:function(e){var t={name:\"Vivaldi\"},r=i.default.getFirstMatch(/vivaldi\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/seamonkey/i],describe:function(e){var t={name:\"SeaMonkey\"},r=i.default.getFirstMatch(/seamonkey\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/sailfish/i],describe:function(e){var t={name:\"Sailfish\"},r=i.default.getFirstMatch(/sailfish\\s?browser\\/(\\d+(\\.\\d+)?)/i,e);return r&&(t.version=r),t}},{test:[/silk/i],describe:function(e){var t={name:\"Amazon Silk\"},r=i.default.getFirstMatch(/silk\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/phantom/i],describe:function(e){var t={name:\"PhantomJS\"},r=i.default.getFirstMatch(/phantomjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/slimerjs/i],describe:function(e){var t={name:\"SlimerJS\"},r=i.default.getFirstMatch(/slimerjs\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t={name:\"BlackBerry\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/blackberry[\\d]+\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:\"WebOS Browser\"},r=i.default.getFirstMatch(s,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/bada/i],describe:function(e){var t={name:\"Bada\"},r=i.default.getFirstMatch(/dolfin\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/tizen/i],describe:function(e){var t={name:\"Tizen\"},r=i.default.getFirstMatch(/(?:tizen\\s?)?browser\\/(\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/qupzilla/i],describe:function(e){var t={name:\"QupZilla\"},r=i.default.getFirstMatch(/(?:qupzilla)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:\"Firefox\"},r=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/electron/i],describe:function(e){var t={name:\"Electron\"},r=i.default.getFirstMatch(/(?:electron)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:\"Miui\"},r=i.default.getFirstMatch(/(?:MiuiBrowser)[\\s/](\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/chromium/i],describe:function(e){var t={name:\"Chromium\"},r=i.default.getFirstMatch(/(?:chromium)[\\s/](\\d+(\\.?_?\\d+)+)/i,e)||i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:\"Chrome\"},r=i.default.getFirstMatch(/(?:chrome|crios|crmo)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/GSA/i],describe:function(e){var t={name:\"Google Search\"},r=i.default.getFirstMatch(/(?:GSA)\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t={name:\"Android Browser\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/playstation 4/i],describe:function(e){var t={name:\"PlayStation 4\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:\"Safari\"},r=i.default.getFirstMatch(s,e);return r&&(t.version=r),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search(\"\\\\(\")?/^(.*)\\/(.*)[ \\t]\\((.*)/:/^(.*)\\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/Roku\\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\\/DVP-(\\d+\\.\\d+)/i,e);return{name:s.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\\s?(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \\d\\d?.\\d)?)/i,e),r=i.default.getWindowsVersionName(t);return{name:s.OS_MAP.Windows,version:t,versionName:r}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(e){var t={name:s.OS_MAP.iOS},r=i.default.getSecondMatch(/(Version\\/)(\\d[\\d.]+)/,e);return r&&(t.version=r),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\\d+(\\.?_?\\d+)+)/i,e).replace(/[_\\s]/g,\".\"),r=i.default.getMacOSVersionName(t),n={name:s.OS_MAP.MacOS,version:t};return r&&(n.versionName=r),n}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\\d+([_\\s]\\d+)*) like mac os x/i,e).replace(/[_\\s]/g,\".\");return{name:s.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),r=e.test(/android/i);return t&&r},describe:function(e){var t=i.default.getFirstMatch(/android[\\s/-](\\d+(\\.\\d+)*)/i,e),r=i.default.getAndroidVersionName(t),n={name:s.OS_MAP.Android,version:t};return r&&(n.versionName=r),n}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\\/(\\d+(\\.\\d+)*)/i,e),r={name:s.OS_MAP.WebOS};return t&&t.length&&(r.version=t),r}},{test:[/blackberry|\\bbb\\d+/i,/rim\\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\\stablet\\sos\\s(\\d+(\\.\\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\\d+\\/(\\d+([_\\s]\\d+)*)/i,e)||i.default.getFirstMatch(/\\bbb(\\d+)/i,e);return{name:s.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\\/(\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:s.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:s.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\\s](\\d+(\\.\\d+)*)/i,e);return{name:s.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:[/googlebot/i],describe:function(){return{type:\"bot\",vendor:\"Google\"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&\"Nova\",r={type:s.PLATFORMS_MAP.mobile,vendor:\"Huawei\"};return t&&(r.model=t),r}},{test:[/nexus\\s*(?:7|8|9|10).*/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Nexus\"}}},{test:[/ipad/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\\//],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Apple\",model:\"iPad\"}}},{test:[/kftt build/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\",model:\"Kindle Fire HD 7\"}}},{test:[/silk/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet,vendor:\"Amazon\"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),r=e.test(/like (ipod|iphone)/i);return t&&!r},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:s.PLATFORMS_MAP.mobile,vendor:\"Apple\",model:t}}},{test:[/nexus\\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Nexus\"}}},{test:[/[^-]mobi/i],describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"blackberry\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"BlackBerry\"}}},{test:function(e){return\"bada\"===e.getBrowserName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"windows phone\"===e.getBrowserName()},describe:function(){return{type:s.PLATFORMS_MAP.mobile,vendor:\"Microsoft\"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(\".\")[0]);return\"android\"===e.getOSName(!0)&&t>=3},describe:function(){return{type:s.PLATFORMS_MAP.tablet}}},{test:function(e){return\"android\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.mobile}}},{test:function(e){return\"macos\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop,vendor:\"Apple\"}}},{test:function(e){return\"windows\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"linux\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.desktop}}},{test:function(e){return\"playstation 4\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}},{test:function(e){return\"roku\"===e.getOSName(!0)},describe:function(){return{type:s.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,r){\"use strict\";t.__esModule=!0,t.default=void 0;var n,i=(n=r(17))&&n.__esModule?n:{default:n},s=r(18);var a=[{test:function(e){return\"microsoft edge\"===e.getBrowserName(!0)},describe:function(e){if(/\\sedg\\//i.test(e))return{name:s.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\\/(\\d+(\\.?_?\\d+)+)/i,e);return{name:s.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:s.ENGINE_MAP.Trident},r=i.default.getFirstMatch(/trident\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:s.ENGINE_MAP.Presto},r=i.default.getFirstMatch(/presto\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:function(e){var t=e.test(/gecko/i),r=e.test(/like gecko/i);return t&&!r},describe:function(e){var t={name:s.ENGINE_MAP.Gecko},r=i.default.getFirstMatch(/gecko\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}},{test:[/(apple)?webkit\\/537\\.36/i],describe:function(){return{name:s.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:s.ENGINE_MAP.WebKit},r=i.default.getFirstMatch(/webkit\\/(\\d+(\\.?_?\\d+)+)/i,e);return r&&(t.version=r),t}}];t.default=a,e.exports=t.default}})}));","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher) || [];\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","(\n  /**\n   * Interface for event subscription.\n   *\n   * @example\n   * var NanoEvents = require('nanoevents')\n   *\n   * class Ticker {\n   *   constructor() {\n   *     this.emitter = new NanoEvents()\n   *   }\n   *   on() {\n   *     return this.emitter.on.apply(this.events, arguments)\n   *   }\n   *   tick() {\n   *     this.emitter.emit('tick')\n   *   }\n   * }\n   *\n   * @alias NanoEvents\n   * @class\n   */\n  module.exports = function NanoEvents () {\n    /**\n     * Event names in keys and arrays with listeners in values.\n     * @type {object}\n     *\n     * @example\n     * Object.keys(ee.events)\n     *\n     * @alias NanoEvents#events\n     */\n    this.events = { }\n  }\n).prototype = {\n\n  /**\n   * Calls each of the listeners registered for a given event.\n   *\n   * @param {string} event The event name.\n   * @param {...*} arguments The arguments for listeners.\n   *\n   * @return {undefined}\n   *\n   * @example\n   * ee.emit('tick', tickType, tickDuration)\n   *\n   * @alias NanoEvents#emit\n   * @method\n   */\n  emit: function emit (event) {\n    var args = [].slice.call(arguments, 1)\n    // Array.prototype.call() returns empty array if context is not array-like\n    ;[].slice.call(this.events[event] || []).filter(function (i) {\n      i.apply(this, args) // this === global or window\n    })\n  },\n\n  /**\n   * Add a listener for a given event.\n   *\n   * @param {string} event The event name.\n   * @param {function} cb The listener function.\n   *\n   * @return {function} Unbind listener from event.\n   *\n   * @example\n   * const unbind = ee.on('tick', (tickType, tickDuration) => {\n   *   count += 1\n   * })\n   *\n   * disable () {\n   *   unbind()\n   * }\n   *\n   * @alias NanoEvents#on\n   * @method\n   */\n  on: function on (event, cb) {\n    if (process.env.NODE_ENV !== 'production' && typeof cb !== 'function') {\n      throw new Error('Listener must be a function')\n    }\n\n    (this.events[event] = this.events[event] || []).push(cb)\n\n    return function () {\n      this.events[event] = this.events[event].filter(function (i) {\n        return i !== cb\n      })\n    }.bind(this)\n  }\n}\n","/**\n * Removes all listeners.\n *\n * @param {NanoEvents} emitter NanoEvents instance.\n *\n * @returns {undefined}\n *\n * @example\n * unbindAll(emitter)\n */\nfunction unbindAll (emitter) {\n  emitter.events = { }\n}\n\nmodule.exports = unbindAll\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${encode(object.fragmentIdentifier, options)}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import qs from 'query-string';\nimport config from './config';\nimport { PUBLISHER_EVENTS, PLAYER_EVENTS } from '../enums';\nimport Player from '../player';\nimport Publisher from '../publisher';\n\nconst query = qs.parse(window.location.search);\n\nlet wrtcPlayer = null;\nlet publisher = null;\n\nconst getHostElement = () => document.getElementById('host');\nconst getHostContainerElement = () => document.getElementById('hostContainer');\nconst getNameElement = () => document.getElementById('name');\nconst getNameContainerElement = () => document.getElementById('nameContainer');\nconst getPlayerElement = () => document.getElementById('player');\nconst getPlayElement = () => document.getElementById('play');\nconst getPublishElement = () => document.getElementById('publish');\nconst getStopElement = () => document.getElementById('stop');\nconst getQualityElement = () => document.getElementById('stop');\n\nconst getStreamUrl = (\n  hostElement = getHostElement(),\n  nameElement = getNameElement(),\n) =>\n  `${query.host || (hostElement && hostElement.value)}/${query.name ||\n    (nameElement && nameElement.value)}`;\nconst getPublisherOpts = () => {\n  const [, , height] = document.getElementById('quality').value.split(/:/);\n  return {\n    preview: document.getElementById('preview'),\n    constraints: {\n      // video: {\n      //   height: { exact: height }\n      // },\n      video: true,\n      audio: true,\n    },\n  };\n};\n\nconst getPlayer = (\n  playerElement = getPlayerElement(),\n  streamUrl = getStreamUrl(),\n  playerOpts = {\n    retryMax: 10,\n    retryDelay: 1000\n  },\n  shouldLog = true,\n  log = (...defaultMessages) => (...passedMessages) =>\n    console.log(...[...defaultMessages, ...passedMessages]),\n) => {\n  const player = new Player(playerElement, streamUrl, playerOpts, true);\n  player.on(PLAYER_EVENTS.PLAY, log('Started playing', streamUrl));\n  player.on(PLAYER_EVENTS.DEBUG, log('Debugging play'));\n  player.play();\n  return player;\n};\n\nconst stopPublishing = () => {\n  if (publisher) {\n    publisher.stop && publisher.stop();\n    publisher = null;\n  }\n};\n\nconst stopPlaying = () => {\n  if (wrtcPlayer) {\n    wrtcPlayer.destroy && wrtcPlayer.destroy();\n    wrtcPlayer = null;\n  }\n};\n\nconst stop = () => {\n  stopPublishing();\n  stopPlaying();\n\n  getPublishElement().innerText = 'Publish';\n  getPlayElement().innerText = 'Play';\n};\n\nconst play = () => {\n  wrtcPlayer = getPlayer();\n  getPlayElement().innerText = 'Playing...';\n  wrtcPlayer.play();\n};\n\nconst publish = () => {\n  if (publisher) publisher.stop();\n\n  publisher = new Publisher(getStreamUrl(), getPublisherOpts(), true);\n  publisher.on(PUBLISHER_EVENTS.STREAMING, () => {\n    getPublishElement().innerText = 'Publishing...';\n  });\n  publisher.start();\n};\n\nconst setDefaultValues = () => {\n  if (query.host) {\n    getHostContainerElement().style.display = 'none';\n  } else {\n    getHostElement().value = config.host;\n  }\n\n  if (query.name) {\n    getNameContainerElement().style.display = 'none';\n  } else {\n    getNameElement().value = config.name;\n  }\n};\n\nconst setEventListeners = () => {\n  // Set event listeners\n  getPublishElement().addEventListener('click', publish);\n  getPlayElement().addEventListener('click', play);\n  getStopElement().addEventListener('click', stop);\n  getQualityElement().onchange = publish;\n};\n\nconst main = () => {\n  setDefaultValues();\n  setEventListeners();\n};\n\nwindow.addEventListener('load', main);\n"],"names":["PeerConnection","window","RTCPeerConnection","mozRTCPeerConnection","webkitRTCPeerConnection","IceCandidate","RTCIceCandidate","mozRTCIceCandidate","SessionDescription","RTCSessionDescription","mozRTCSessionDescription","NanoEvents","consoleLog","emptyLog","bowser","unbindAll","WebRTCBase","constructor","url","_this","opts","arguments","length","undefined","shouldLog","_defineProperty","emitter","onDestroy","cb","retryCounter","setTimeout","retryDelay","stop","shouldImplementError","retryMax","msg","waitForConnection","ws","send","JSON","stringify","interval","readyState","_len","args","Array","_key","on","apply","notify","emit","bind","log","browser","os","getParser","navigator","userAgent","parsedResult","isSafariOrIOS","name","console","error","concat","Error","host","PLAYER_EVENTS","FAIL","PLAY","DEBUG","PUBLISHER_EVENTS","STREAMING","PUBLISHER_STATUSES","INITIALIZING","STOPPED","_isGetUserMediaCalled","setGetUserMediaCalled","isGetUserMediaCalled","SAFARI_PERMISSIONS_REQUEST_MESSAGE","Player","media","remoteVideo","removeEventListener","onVideoPlay","remotePc","stream_id","onicecandidate","gotIceCandidate","ontrack","gotRemoteTrack","onconnectionstatechange","evt","connectionState","stopRetry","play","oniceconnectionstatechange","iceConnectionState","onicegatheringstatechange","iceGatheringState","onsignalingstatechange","signalingState","confirm","constraints","audio","video","mediaDevices","getUserMedia","Promise","reject","resolve","checkGetUserMediaCall","then","wsUrl","URL","pathname","protocol","test","WebSocket","toString","onopen","createPeerConnection","onerror","onclose","onmessage","onWsMsg","retryCounterReset","close","srcObject","err","src","event","candidate","sendWsMsg","type","label","sdpMLineIndex","id","sdpMid","e","track","kind","streams","createObjectURL","_ref","sdp","message","_objectWithoutProperties","_excluded","_objectSpread","replace","parse","data","onWsOfferReceived","onWsIceCandidateReceived","createAnswer","answer","setLocalDescription","localDescription","reason","desc","getSessionDescription","setRemoteDescription","remoteCreateAnswer","remoteSetLocalDescription","remoteSendLocalDescription","catch","onDescriptionError","addIceCandidate","HTMLMediaElement","addEventListener","autoplay","Publisher","streamUrl","this","openPeerConnection","openPeerConnectionOptions","onWebsocketClose","clearLocalStreamSource","peerConnection","status","getMedia","getMediaOptions","stream","getTracks","forEach","description","videoContainer","onWsAnswerReceived","gotMedia","externalStream","onGetUserMediaError","addTrack","createOffer","offerToReceiveAudio","offerToReceiveVideo","errorMessage","self","preview","previewOptions","controls","muted","videoWidth","videoHeight","qs","config","query","location","search","wrtcPlayer","publisher","getHostElement","document","getElementById","getHostContainerElement","getNameElement","getNameContainerElement","getPlayerElement","getPlayElement","getPublishElement","getStopElement","getQualityElement","getStreamUrl","hostElement","nameElement","value","getPublisherOpts","height","split","getPlayer","playerElement","playerOpts","defaultMessages","_len2","passedMessages","_key2","player","stopPublishing","stopPlaying","destroy","innerText","publish","start","setDefaultValues","style","display","setEventListeners","onchange","main"],"sourceRoot":""}